---
// src/pages/index.astro
// NomadCrew Landing Page - Redesigned with Warm Minimalist Design System
// Phase 06.1-05: Final Integration

import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/react/Navbar.tsx';
import SmoothScrollProvider from '../components/react/SmoothScrollProvider.tsx';
import ParallaxHero from '../components/react/ParallaxHero.tsx';
import BentoFeatures from '../components/react/BentoFeatures.tsx';
import SocialProof from '../components/react/SocialProof.tsx';
import WaitlistForm from '../components/react/WaitlistForm.tsx';
import ExpandedFooter from '../components/react/ExpandedFooter.tsx';
---

<BaseLayout
  title="Group Travel, Simplified"
  description="Coordinate plans, share locations, manage expenses, and chat in real-time - all within a single, mobile-first app designed for modern group travel."
  isHomepage={true}
>
  <!-- Navbar: client:load (immediate interactivity for navigation) -->
  <Navbar client:load />

  <!--
    SmoothScrollProvider wraps ONLY ParallaxHero (hero-only scope)
    - Provides Lenis smooth scroll for parallax effect
    - Other sections use standard scroll with client:visible hydration
  -->
  <SmoothScrollProvider client:load>
    <ParallaxHero client:load />
  </SmoothScrollProvider>

  <!-- BentoFeatures: client:visible (below hero, deferred hydration) -->
  <section id="features">
    <BentoFeatures client:visible />
  </section>

  <!-- SocialProof: client:visible (positioned above waitlist for conversion) -->
  <SocialProof client:visible />

  <!-- Waitlist Section: styled with warm minimalist design tokens -->
  <section id="waitlist" class="py-16 px-4" style="background-color: var(--color-bg-primary, #FDFCFA);">
    <div class="container mx-auto max-w-xl text-center">
      <h2
        class="text-3xl font-bold mb-6"
        style="color: var(--color-text-primary, #2D2520);"
      >
        Join the Waitlist
      </h2>
      <p
        class="mb-8"
        style="color: var(--color-text-secondary, #635750);"
      >
        Be among the first to experience a better way to travel together.
        Get early access and exclusive updates.
      </p>
      <WaitlistForm client:visible />
    </div>
  </section>

  <!-- ExpandedFooter: client:idle (low priority hydration) -->
  <ExpandedFooter client:idle />
</BaseLayout>
