---
phase: 06.1-landing-page-redesign
plan: 03
type: execute
wave: 2
depends_on: ["06.1-01"]
files_modified:
  - src/components/react/BentoFeatures.tsx
  - src/pages/test-bento.astro
autonomous: true

must_haves:
  truths:
    - "Features are displayed in bento grid layout with variable card sizes"
    - "Grid is responsive: 1 column on mobile, 2 on tablet, 4 on desktop"
    - "Cards have hover states with visual feedback"
    - "Grid auto-flows to fill gaps without whitespace"
  artifacts:
    - path: "src/components/react/BentoFeatures.tsx"
      provides: "Bento grid feature showcase component"
      exports: ["default"]
      min_lines: 60
  key_links:
    - from: "src/components/react/BentoFeatures.tsx"
      to: "CSS Grid"
      via: "grid-cols and col-span/row-span classes"
      pattern: "grid-cols-|col-span-|row-span-"
---

<objective>
Create the bento grid feature showcase component replacing the current basic FeatureCard grid.

Purpose: Present NomadCrew features in a visually compelling bento grid layout with variable card sizes per UI-02 requirement.

Output: BentoFeatures React component with responsive CSS Grid layout and test page for verification.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06.1-landing-page-redesign/06.1-CONTEXT.md
@.planning/phases/06.1-landing-page-redesign/06.1-RESEARCH.md
@.planning/phases/06.1-landing-page-redesign/06.1-01-SUMMARY.md
@src/components/react/FeatureCard.tsx
@src/pages/index.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create BentoFeatures component</name>
  <files>
    src/components/react/BentoFeatures.tsx
  </files>
  <action>
Create `src/components/react/BentoFeatures.tsx`:

1. Import dependencies:
   - framer-motion: motion
   - lucide-react: ClipboardList, MessagesSquare, LocateFixed, Banknote (same icons as current FeatureCard)

2. Define feature data array with size hints:
   ```typescript
   const features = [
     {
       icon: ClipboardList,
       title: "Trip Planning & Management",
       description: "Plan, manage, and collaborate on group trips with destination search and shared tools.",
       size: "large",  // 2 cols, 2 rows
     },
     {
       icon: MessagesSquare,
       title: "Real-time Communication",
       description: "Stay connected with group chat, real-time messaging, media sharing, and read receipts.",
       size: "wide",   // 2 cols, 1 row
     },
     {
       icon: LocateFixed,
       title: "Location Services",
       description: "Share live locations, explore interactive maps, and discover nearby places together.",
       size: "small",  // 1 col, 1 row
     },
     {
       icon: Banknote,
       title: "Financial Management",
       description: "Track expenses effortlessly and split costs fairly among your travel group.",
       size: "small",  // 1 col, 1 row
     },
   ];
   ```

3. Create BentoFeatures component:

   a. **Grid Container:**
      - Use CSS Grid with responsive columns:
        - Mobile: `grid-cols-1`
        - Tablet: `md:grid-cols-2`
        - Desktop: `lg:grid-cols-4`
      - Auto rows with minimum height: `auto-rows-[minmax(200px,auto)]` or `auto-rows-[250px]`
      - Enable dense auto-flow: `style={{ gridAutoFlow: 'dense' }}`
      - Gap: `gap-4` or `gap-6`
      - Max width container with horizontal padding

   b. **Card Sizing Classes by Type:**
      - `large`: `col-span-1 md:col-span-2 row-span-2` (hero card)
      - `wide`: `col-span-1 md:col-span-2 row-span-1`
      - `tall`: `col-span-1 row-span-2`
      - `small`: `col-span-1 row-span-1`

   c. **Card Styling:**
      - Background: warm off-white or gradient (use design tokens)
      - Rounded corners: `rounded-2xl` or `rounded-3xl`
      - Padding: generous (p-6 to p-8)
      - Shadow: subtle `shadow-sm` with `hover:shadow-md` or `hover:shadow-lg`
      - Transition: `transition-all duration-300`
      - Optional: subtle background gradient for large card

   d. **Card Content:**
      - Icon: colored with accent (#E87B4E / orange-500), sized appropriately
      - Title: font-semibold or font-bold, sized based on card size
      - Description: text-gray-600, only show on larger cards or conditionally
      - Large card can have additional visual element or illustration

   e. **Hover Animation with Framer Motion:**
      - Use motion.div for cards
      - `whileHover={{ y: -4, scale: 1.02 }}` for subtle lift effect
      - Or simpler: `whileHover={{ y: -5 }}` with CSS shadow transition

   f. **Responsive Behavior:**
      - On mobile (grid-cols-1): all cards become col-span-1
      - Reset spans: `col-span-1 md:col-span-2` pattern
      - Cards stack vertically on mobile maintaining visual hierarchy

4. Export as default

5. Add section heading inside component:
   - "Features" or "Everything you need for group travel"
   - Style with design tokens

Example structure:
```tsx
export default function BentoFeatures() {
  return (
    <section className="py-16 px-4 bg-[var(--color-bg-secondary)]">
      <div className="container mx-auto">
        <h2 className="text-3xl font-bold text-center mb-12">
          Everything you need for group travel
        </h2>
        <div
          className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 auto-rows-[250px] gap-4"
          style={{ gridAutoFlow: 'dense' }}
        >
          {features.map((feature) => (
            <motion.div
              key={feature.title}
              className={`${sizeClasses[feature.size]} bg-white rounded-2xl p-6 shadow-sm hover:shadow-lg transition-shadow`}
              whileHover={{ y: -4 }}
            >
              <feature.icon className="w-10 h-10 text-orange-500 mb-4" />
              <h3 className="text-xl font-bold mb-2">{feature.title}</h3>
              <p className="text-gray-600">{feature.description}</p>
            </motion.div>
          ))}
        </div>
      </div>
    </section>
  );
}
```
  </action>
  <verify>
    - File exists at `src/components/react/BentoFeatures.tsx`
    - `pnpm run check` passes
    - Component uses CSS Grid classes (grid-cols, col-span, row-span)
    - All 4 features from current landing page are represented
    - Responsive classes present (md:, lg: prefixes)
  </verify>
  <done>
    - BentoFeatures component displays 4 features in bento grid
    - Grid has variable card sizes (large, wide, small)
    - Responsive breakpoints: 1 col mobile, 2 tablet, 4 desktop
    - Cards have hover states with visual feedback
  </done>
</task>

<task type="auto">
  <name>Task 2: Create test page for bento grid verification</name>
  <files>
    src/pages/test-bento.astro
  </files>
  <action>
Create `src/pages/test-bento.astro` to verify bento grid in isolation:

1. Import components:
   - BaseLayout from layouts
   - BentoFeatures from react components

2. Page structure:
   ```astro
   ---
   import BaseLayout from '../layouts/BaseLayout.astro';
   import BentoFeatures from '../components/react/BentoFeatures.tsx';
   ---

   <BaseLayout title="Bento Grid Test" description="Testing bento features grid">
     <!-- Spacer to simulate page context -->
     <div class="h-32 bg-white"></div>

     <!-- Bento Features component -->
     <BentoFeatures client:visible />

     <!-- Manual verification checklist -->
     <div class="p-8 bg-white mt-8">
       <h2 class="text-xl font-bold mb-4">Bento Grid Verification</h2>
       <ul class="space-y-2 text-gray-700">
         <li>[ ] Grid displays with variable card sizes</li>
         <li>[ ] Large card spans 2 columns and 2 rows on desktop</li>
         <li>[ ] Wide card spans 2 columns on desktop</li>
         <li>[ ] Cards have hover lift effect</li>
         <li>[ ] Icons display in accent color</li>
         <li>[ ] Resize browser to test responsive behavior</li>
         <li>[ ] Mobile: all cards stack in single column</li>
         <li>[ ] Tablet (768px+): 2-column layout</li>
         <li>[ ] Desktop (1024px+): 4-column layout</li>
       </ul>
     </div>

     <!-- Viewport size indicator -->
     <div class="fixed bottom-4 right-4 bg-black text-white px-3 py-1 rounded text-sm">
       <span class="md:hidden">Mobile</span>
       <span class="hidden md:inline lg:hidden">Tablet</span>
       <span class="hidden lg:inline">Desktop</span>
     </div>
   </BaseLayout>
   ```

3. Use client:visible for component (deferred hydration since below fold simulation)

4. Include viewport indicator to help verify responsive breakpoints

5. Run dev server and manually verify at /test-bento
  </action>
  <verify>
    - `src/pages/test-bento.astro` exists
    - `pnpm run dev` starts without errors
    - Navigate to http://localhost:4321/test-bento - page loads
    - Bento grid displays with variable card sizes
    - Resize browser: layout changes at breakpoints
  </verify>
  <done>
    - Test page exists at /test-bento
    - BentoFeatures renders with all 4 feature cards
    - Cards have different sizes creating bento pattern
    - Responsive behavior verified across breakpoints
  </done>
</task>

</tasks>

<verification>
- [ ] `src/components/react/BentoFeatures.tsx` exists and exports default
- [ ] `src/pages/test-bento.astro` exists
- [ ] `pnpm run check` passes
- [ ] `pnpm run dev` starts without errors
- [ ] http://localhost:4321/test-bento shows bento grid
- [ ] Large card visibly spans 2x2 on desktop viewport
- [ ] Cards have hover animation (lift effect)
- [ ] Mobile viewport shows single column layout
</verification>

<success_criteria>
1. BentoFeatures displays all 4 NomadCrew features (Trip Planning, Communication, Location, Financial)
2. Grid uses CSS Grid with variable card sizes (at least one large, one wide)
3. Responsive: 1 column mobile, 2 tablet, 4 desktop
4. Cards have visible hover state (shadow or lift)
5. Icons use accent color from design tokens
6. Test page allows verification at all breakpoints
</success_criteria>

<output>
After completion, create `.planning/phases/06.1-landing-page-redesign/06.1-03-SUMMARY.md`
</output>
