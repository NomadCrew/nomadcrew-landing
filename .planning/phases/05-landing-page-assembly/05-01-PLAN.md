---
phase: 05-landing-page-assembly
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - public/og-image.jpg
  - package.json
  - astro.config.mjs
autonomous: true
user_setup: []

must_haves:
  truths:
    - "OG image exists at public/og-image.jpg with 1200x630 dimensions"
    - "Bundle visualizer generates stats.html on build"
  artifacts:
    - path: "public/og-image.jpg"
      provides: "Social sharing preview image"
      min_size_kb: 50
    - path: "package.json"
      provides: "rollup-plugin-visualizer dependency"
      contains: "rollup-plugin-visualizer"
  key_links:
    - from: "astro.config.mjs"
      to: "rollup-plugin-visualizer"
      via: "vite.plugins array"
      pattern: "visualizer"
---

<objective>
Create OG image asset and configure bundle size monitoring

Purpose: Provide social sharing preview image (required for SEO-02/SEO-03) and enable bundle size tracking for the <150KB target
Output: og-image.jpg in public/, rollup-plugin-visualizer configured in astro.config.mjs
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/layouts/BaseLayout.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create OG image placeholder</name>
  <files>public/og-image.jpg</files>
  <action>
Create a placeholder OG image at public/og-image.jpg with dimensions 1200x630 pixels.

Use ImageMagick (available via convert command) to generate a branded placeholder:
- Background: Orange gradient (#f97316 to #ea580c) or solid orange
- Text: "NomadCrew" centered, white, large font
- Subtext: "Group Travel, Simplified" smaller below
- Dimensions: exactly 1200x630 pixels (standard OG image size)

Command pattern:
```bash
convert -size 1200x630 xc:'#f97316' \
  -gravity center \
  -font Arial-Bold -pointsize 120 -fill white \
  -annotate +0-50 'NomadCrew' \
  -font Arial -pointsize 48 -fill white \
  -annotate +0+80 'Group Travel, Simplified' \
  public/og-image.jpg
```

If ImageMagick not available, create using alternative method (download placeholder or use Node canvas).

The image must be:
- Exactly 1200x630 pixels
- JPEG format
- File size between 50KB and 500KB
- Readable text visible

Note: This is a placeholder. User can replace with custom design later.
  </action>
  <verify>
```bash
# Verify file exists and has correct dimensions
file public/og-image.jpg
# Should show: JPEG image data, 1200x630
ls -la public/og-image.jpg
# Should show file size > 50KB
```
  </verify>
  <done>OG image exists at public/og-image.jpg with 1200x630 dimensions, JPEG format</done>
</task>

<task type="auto">
  <name>Task 2: Install and configure bundle visualizer</name>
  <files>package.json, astro.config.mjs</files>
  <action>
1. Install rollup-plugin-visualizer as dev dependency:
```bash
pnpm add -D rollup-plugin-visualizer
```

2. Update astro.config.mjs to include visualizer in vite.plugins:

```javascript
import { defineConfig } from 'astro/config';
import react from '@astrojs/react';
import tailwindcss from '@tailwindcss/vite';
import { visualizer } from 'rollup-plugin-visualizer';

export default defineConfig({
  integrations: [react()],
  site: 'https://nomadcrew.uk',
  vite: {
    plugins: [
      tailwindcss(),
      visualizer({
        filename: './stats.html',
        open: false,
        gzipSize: true,
        brotliSize: true,
      }),
    ],
  },
});
```

Key configuration:
- filename: './stats.html' - generates in project root
- open: false - don't auto-open browser (CI-friendly)
- gzipSize: true - shows gzipped sizes (our <150KB target)
- brotliSize: true - shows brotli sizes for comparison

3. Add stats.html to .gitignore if not already present (generated file, not committed)
  </action>
  <verify>
```bash
# Verify package installed
pnpm list rollup-plugin-visualizer

# Verify config updated
grep -q "visualizer" astro.config.mjs && echo "visualizer configured"

# Test build generates stats.html
pnpm run build
ls -la stats.html
# Should show stats.html file created
```
  </verify>
  <done>rollup-plugin-visualizer installed and configured, pnpm run build generates stats.html with gzip sizes</done>
</task>

</tasks>

<verification>
```bash
# Verify OG image
file public/og-image.jpg
ls -la public/og-image.jpg

# Verify visualizer
pnpm run build
ls -la stats.html
```
</verification>

<success_criteria>
1. public/og-image.jpg exists with 1200x630 dimensions
2. rollup-plugin-visualizer in devDependencies
3. pnpm run build generates stats.html with bundle breakdown
4. TypeScript check passes: pnpm run check
</success_criteria>

<output>
After completion, create `.planning/phases/05-landing-page-assembly/05-01-SUMMARY.md`
</output>
