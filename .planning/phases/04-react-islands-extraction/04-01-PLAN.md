---
phase: 04-react-islands-extraction
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/react/Navbar.tsx
autonomous: true

must_haves:
  truths:
    - "Navbar component renders in isolation"
    - "Navbar slide-down animation plays on load"
    - "Join Waitlist button has hover/tap animations"
    - "Navbar is fixed positioned with backdrop blur"
  artifacts:
    - path: "src/components/react/Navbar.tsx"
      provides: "Standalone Navbar React island"
      exports: ["default"]
      min_lines: 25
  key_links:
    - from: "src/components/react/Navbar.tsx"
      to: "framer-motion"
      via: "import motion"
      pattern: "import.*motion.*from.*framer-motion"
    - from: "src/components/react/Navbar.tsx"
      to: "lucide-react"
      via: "import ArrowRight"
      pattern: "import.*ArrowRight.*from.*lucide-react"
---

<objective>
Extract the Navbar component from src/LandingPage.tsx into a standalone React island.

Purpose: Create the first React island component that will hydrate immediately (client:load) for critical navigation functionality. This establishes the component extraction pattern for subsequent plans.

Output: src/components/react/Navbar.tsx that renders identically to the Navbar section in LandingPage.tsx
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-react-islands-extraction/04-RESEARCH.md
@src/LandingPage.tsx
@src/layouts/BaseLayout.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create React islands directory structure</name>
  <files>src/components/react/</files>
  <action>
Create the directory structure for React islands:
- src/components/react/ (for all hydrated React components)

This establishes the organizational pattern from the research where React islands live in src/components/react/ while static Astro components will live in src/components/.

Use mkdir -p to create the directory.
  </action>
  <verify>Directory exists: ls src/components/react/</verify>
  <done>src/components/react/ directory exists</done>
</task>

<task type="auto">
  <name>Task 2: Extract Navbar component</name>
  <files>src/components/react/Navbar.tsx</files>
  <action>
Extract the Navbar from src/LandingPage.tsx (lines 63-80) into a standalone React component.

The Navbar component includes:
1. Fixed positioning with backdrop blur (motion.nav wrapper)
2. Slide-down animation on mount (initial={{ y: -100 }}, animate={{ y: 0 }})
3. NomadCrew logo text
4. "Join Waitlist" button with hover/tap animations (whileHover, whileTap)
5. ArrowRight icon from lucide-react

Requirements:
- Import motion from 'framer-motion'
- Import ArrowRight from 'lucide-react'
- Export as default function Navbar()
- NO props needed (all content is static)
- NO event handlers passed from parent (they're all defined inline)
- Keep all Tailwind classes exactly as they appear in source
- Keep spring animation config: type: "spring", stiffness: 100

Pattern to follow (from research):
```tsx
import { motion } from 'framer-motion';
import { ArrowRight } from 'lucide-react';

export default function Navbar() {
  return (
    <motion.nav
      initial={{ y: -100 }}
      animate={{ y: 0 }}
      transition={{ type: "spring", stiffness: 100 }}
      className="fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-md z-50 border-b border-gray-100"
    >
      {/* Container with logo and button */}
    </motion.nav>
  );
}
```

Copy the exact JSX structure from lines 63-80 of LandingPage.tsx.
  </action>
  <verify>
1. File exists: ls src/components/react/Navbar.tsx
2. TypeScript compiles: pnpm run check
3. Exports default: grep -q "export default function Navbar" src/components/react/Navbar.tsx
  </verify>
  <done>
- Navbar.tsx exists in src/components/react/
- TypeScript check passes
- Component exports default function
- All animations preserved (slide-down, hover, tap)
  </done>
</task>

<task type="auto">
  <name>Task 3: Create test page to verify Navbar renders in isolation</name>
  <files>src/pages/test-navbar.astro</files>
  <action>
Create a test page that imports Navbar with client:load directive to verify it renders correctly in isolation.

```astro
---
// src/pages/test-navbar.astro
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/react/Navbar.tsx';
---

<BaseLayout
  title="Navbar Test"
  description="Testing Navbar component in isolation"
>
  <Navbar client:load />

  <!-- Spacer to test fixed positioning -->
  <div class="pt-24 px-4">
    <h1 class="text-2xl font-bold">Navbar Test Page</h1>
    <p class="mt-4 text-gray-600">
      The navbar should appear fixed at the top with a slide-down animation.
      Hover over the "Join Waitlist" button to see the scale animation.
    </p>
  </div>
</BaseLayout>
```

Key points:
- Uses client:load because Navbar needs immediate interactivity
- Includes pt-24 spacer to account for fixed navbar height
- Provides visual feedback for manual testing
  </action>
  <verify>
1. File exists: ls src/pages/test-navbar.astro
2. Dev server starts: pnpm run dev (check for errors)
3. Page loads: curl http://localhost:4321/test-navbar/ (should return HTML)
  </verify>
  <done>
- test-navbar.astro exists
- Astro dev server starts without errors
- Page accessible at /test-navbar/
- Navbar renders with slide-down animation visible
  </done>
</task>

</tasks>

<verification>
Run complete verification sequence:

```bash
# 1. Check directory structure
ls -la src/components/react/

# 2. TypeScript validation
pnpm run check

# 3. Start dev server and test
pnpm run dev &
sleep 3
curl -s http://localhost:4321/test-navbar/ | grep -q "Navbar Test Page" && echo "Page renders"
```

Manual verification (optional but recommended):
1. Open http://localhost:4321/test-navbar/ in browser
2. Observe navbar slide-down animation on page load
3. Hover over "Join Waitlist" button - should scale up
4. Click button - should scale down briefly
5. Check browser console - no hydration mismatch errors
</verification>

<success_criteria>
1. src/components/react/Navbar.tsx exists and exports default function
2. pnpm run check passes without errors
3. Navbar renders at /test-navbar/ with visible slide-down animation
4. No hydration mismatch errors in browser console
5. Hover/tap animations work on "Join Waitlist" button
</success_criteria>

<output>
After completion, create `.planning/phases/04-react-islands-extraction/04-01-SUMMARY.md`
</output>
